(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(t,e,a){},18:function(t,e,a){"use strict";a.r(e);var s=a(0),n=a.n(s),r=a(8),i=a.n(r),o=a(1),c=a(2),l=a(4),u=a(3),d=a(5),p=(a(7),function(t){function e(t,a){var s;return Object(o.a)(this,e),(s=Object(l.a)(this,Object(u.a)(e).call(this))).props={rank:t,suite:a},s}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t,e;switch(this.props.suite){case"\u2660":t="black";break;case"\u2665":t="red";break;case"\u2663":t="black";break;case"\u2666":t="red"}switch(this.props.rank){case 11:e="J";break;case 12:e="Q";break;case 13:e="K";break;case 1:e="A";break;default:e=this.props.rank}var a="number "+t,s="suite "+t;return n.a.createElement("div",{className:"card_border"},n.a.createElement("span",{className:a}," ",e),n.a.createElement("span",{className:s}," ",this.props.suite," "))}}]),e}(n.a.Component)),h=function(t){function e(t,a,s){var n;return Object(o.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this))).props={cards:t,showCards:a,isDealer:s},n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"renderCards",value:function(){for(var t=[],e=0;e<this.props.cards.length;e++){var a=this.props.isDealer?"tomer-to-dealer":"tomer-to-participate",s=n.a.createElement("div",{className:"deck"},n.a.createElement("div",{className:a},n.a.createElement("div",{className:"card__face card__face--front",key:e}),n.a.createElement("div",{className:"card__face card__face--back",key:e},n.a.createElement(p,{className:"card",key:e,rank:this.props.cards[e].rank,suite:this.props.cards[e].suite}," "))));t.push(s)}return t}},{key:"render",value:function(){var t=this.props.showCards?"cards":this.props.isDealer?"card dealer-card-disappear":"card participate-card-disappear";return n.a.createElement("div",{className:t}," ",this.renderCards()," ")}}]),e}(n.a.Component),m=Object.freeze({Betting:1,DealingCards:2,Double:3,HitOrStand:4,Standing:5,RoundEnded:6}),f=Object.freeze({None:1,ParticipateWon:2,DealerWon:3,Duce:4}),C=function(t){function e(){var t;return Object(o.a)(this,e),(t=Object(l.a)(this,Object(u.a)(e).call(this))).startBetting=function(){t.state.roundInfo.stage=m.Betting,t.state.roundInfo.result=f.none,t.setState({participateCards:[],delearCards:[],potChips:[]})},t.getCard=function(e,a){e.push(t.getReandomCard()),t.setState({participateCardsStateName:e})},t.onFinishBetting=function(){t.state.potChips.length>0&&(t.state.roundInfo.stage=m.DealingCards,t.setState({roundInfo:t.state.roundInfo}),setTimeout(function(){t.getCard(t.state.participateCards,"participateCards")},800),setTimeout(function(){t.getCard(t.state.delearCards,"delearCards")},1500),setTimeout(function(){t.getCard(t.state.participateCards,"participateCards")},2200),setTimeout(t.moveToHitOrStandStage,3300))},t.moveToHitOrStandStage=function(){var e=t.state.roundInfo;t.isParticipateHasBlackJack()?setTimeout(function(){e.result=f.ParticipateWon,t.onRoundHasWinner({roundInfo:e})},1200):(t.doubleAllowed()?e.stage=m.Double:e.stage=m.HitOrStand,t.setState({roundInfo:e}))},t.onHitHandler=function(){if(t.state.roundInfo.stage==m.HitOrStand||t.state.roundInfo.stage==m.Double){var e=t.state.participateCards;e.push(t.getReandomCard()),t.setState({participateCards:e}),t.getMaxSum(e)>21&&(console.log("over 21!!!"),setTimeout(function(){var e=t.state.roundInfo;e.stage=m.RoundEnded,e.result=f.DealerWon,t.setState({roundInfo:e})},800))}},t.pullDealerCards=function(){var e=t.state.delearCards;e.push(t.getReandomCard());var a=t.getMaxSum(e),s=t.getMaxSum(t.state.participateCards),n=f.none;a>16&&(a>21?n=f.ParticipateWon:a>16&&(n=s>a?f.ParticipateWon:s===a?f.Duce:f.DealerWon)),t.setState({delearCards:e}),n===f.none?setTimeout(t.pullDealerCards,800):t.onRoundHasWinner(n)},t.onDoubleHandler=function(){if(t.state.roundInfo.stage==m.Double){for(var e=[],a=0;a<t.state.potChips.length;a++)for(var s=0;s<t.state.potChips[a].count;s++)e.push({chipID:t.state.potChips[a].chipID,count:t.state.potChips[a].count});for(a=0;a<e.length;a++)for(s=0;s<e[a].count;s++)console.log(e[a].chipID),t.onBetHandler(e[a].chipID);t.onHitHandler(),t.onStandHandler()}},t.onStandHandler=function(){if(t.state.roundInfo.stage==m.HitOrStand||t.state.roundInfo.stage==m.Double){var e=t.state.roundInfo;e.stage=m.Standing,t.setState({roundInfo:e}),setTimeout(t.pullDealerCards,400)}},t.onRemoveBetHandler=function(e){if(t.state.roundInfo.stage==m.Betting){for(var a=0;a<t.state.potChips.length;a++)if(t.state.potChips[a].chipID==e){t.state.potChips[a].count-=1;break}var s=[];for(a=0;a<t.state.potChips.length;a++)t.state.potChips[a].count>0&&s.push(t.state.potChips[a]);t.state.potChips=s;var n=t.state.totalChips+e;t.setState({totalChips:n})}},t.onBetHandler=function(e){if((t.state.roundInfo.stage==m.Betting||t.state.roundInfo.stage==m.Double)&&t.state.totalChips>=e){for(var a=0;a<t.state.potChips.length;a++)if(t.state.potChips[a].chipID==e){console.log(e),t.state.potChips[a].count+=1;break}a===t.state.potChips.length&&t.state.potChips.push({chipID:e,count:1});var s=t.state.totalChips-e;t.setState({totalChips:s})}},t.state={participateCards:[],delearCards:[],roundInfo:{stage:m.Betting,result:f.none},totalChips:200,potChips:[]},t}return Object(d.a)(e,t),Object(c.a)(e,[{key:"getTotalPotChips",value:function(){for(var t=0,e=0;e<this.state.potChips.length;e++)t+=this.state.potChips[e].chipID*this.state.potChips[e].count;return t}},{key:"getReandomCard",value:function(){var t,e=Math.floor(13*Math.random()+1);switch(Math.floor(4*Math.random()+1)){case 1:t="\u2660";break;case 2:t="\u2665";break;case 3:t="\u2663";break;case 4:t="\u2666"}return{rank:e,suite:t}}},{key:"isParticipateHasBlackJack",value:function(){var t=this.state.participateCards,e=this.state.delearCards;return 2===t.length&&21===this.getMaxSum(t)&&this.getMaxSum(e)<21}},{key:"getCardValue",value:function(t){return 1===t.rank?1:t.rank>10?10:t.rank}},{key:"doubleAllowed",value:function(){var t=this.getMaxSum(this.state.participateCards),e=this.state.totalChips;return t<=11&&t>=9&&e>=this.getTotalPotChips()}},{key:"getMaxSum",value:function(t){for(var e=0,a=0,s=0;s<t.length;s++)1===t[s].rank?(a+=1,(e+=11)>21&&(e-=10)):t[s].rank>10?(a+=10,e+=10):(e+=t[s].rank,a+=t[s].rank);return e>21?a:e}},{key:"onRoundHasWinner",value:function(t){var e=this,a=this.state.totalChips;switch(t){case f.ParticipateWon:var s;s=this.isParticipateHasBlackJack()?Math.floor(2.5*this.getTotalPotChips()+1):2*this.getTotalPotChips(),a+=s;break;case f.Duce:a+=this.getTotalPotChips()}setTimeout(function(){e.state.roundInfo.stage=m.RoundEnded,e.state.roundInfo.result=t,e.setState({totalChips:a})},800)}},{key:"renderPlayerActionsButtons",value:function(){var t="disabled",e="disabled",a="disabled";return this.state.roundInfo.stage===m.Betting&&this.getTotalPotChips()>0&&(t=""),this.state.roundInfo.stage!=m.RoundEnded&&this.state.roundInfo.stage!=m.Betting&&(this.state.roundInfo.stage!=m.Standing&&this.state.roundInfo.stage!=m.DealingCards&&(e=""),this.state.roundInfo.stage==m.Double&&(a="")),n.a.createElement("div",{className:"player-actions"},n.a.createElement("button",{className:"hit-stand-buttons_layout",disabled:t,onClick:this.onFinishBetting},"\ud83d\udcb0 BET"),n.a.createElement("button",{className:"hit-stand-buttons_layout",disabled:e,onClick:this.onHitHandler}," \ud83d\udc4a HIT "),n.a.createElement("button",{className:"hit-stand-buttons_layout",disabled:e,onClick:this.onStandHandler}," \u270b STAND "),n.a.createElement("button",{className:"hit-stand-buttons_layout",disabled:a,onClick:this.onDoubleHandler},"\ud83e\udd29 DOUBLE "))}},{key:"renderBetSameChip",value:function(t){for(var e=this,a=[],s=this.state.roundInfo.stage===m.Betting?"":"disabled",r=0;r<t.count;r++){var i=void 0;switch(t.chipID){case 1:i="small-chip red-chip "+s;break;case 5:i="small-chip orange-chip "+s;break;case 10:i="small-chip purple-chip "+s;break;case 25:i="small-chip blue-chip "+s;break;case 100:i="small-chip black-chip "+s}console.log(i),a.push(n.a.createElement("div",null,n.a.createElement("button",{className:i,key:r,onClick:function(){return e.onRemoveBetHandler(t.chipID)}}," ")))}return a}},{key:"renderBetChips",value:function(){for(var t=[],e=0;e<this.state.potChips.length;e++){var a=this.state.potChips[e];if(a.count>0){var s=a.count;console.log(a.count);for(var r=0;r<a.count;r+=4){var i={chipID:a.chipID,count:Math.min(s,4)};t.push(n.a.createElement("div",{className:"same-chip",key:e+r}," ",this.renderBetSameChip(i)," ")),s>4&&(s-=4)}}}return t}},{key:"renderChips",value:function(){var t=this,e=this.state.roundInfo.stage===m.Betting,a=e&&this.state.totalChips>=100?"chip-button black-chip":"chip-button black-chip disabled",s=e&&this.state.totalChips>=25?"chip-button blue-chip":"chip-button blue-chip disabled",r=e&&this.state.totalChips>=10?"chip-button purple-chip":"chip-button purple-chip disabled",i=e&&this.state.totalChips>=5?"chip-button orange-chip":"chip-button orange-chip disabled",o=e&&this.state.totalChips>=1?"chip-button red-chip":"chip-button red-chip disabled";return n.a.createElement("div",{className:"chips_layout"},n.a.createElement("div",{className:"chips"},n.a.createElement("button",{className:o,onClick:function(){return t.onBetHandler(1)}}," 1 "),n.a.createElement("button",{className:i,onClick:function(){return t.onBetHandler(5)}}," 5 "),n.a.createElement("button",{className:r,onClick:function(){return t.onBetHandler(10)}}," 10 "),n.a.createElement("button",{className:s,onClick:function(){return t.onBetHandler(25)}}," 25 "),n.a.createElement("button",{className:a,onClick:function(){return t.onBetHandler(100)}}," 100 ")),n.a.createElement("span",{className:"tooltiptext"},"Total Chips: ",this.state.totalChips))}},{key:"getPotClassName",value:function(){var t="chips_pot ";return this.state.roundInfo.result===f.DealerWon?t+="lost_chips_pot":this.state.roundInfo.result!==f.ParticipateWon&&this.state.roundInfo.result!==f.Duce||(t+="participate_won"),t}},{key:"renderPotChips",value:function(){var t=[];return this.state.roundInfo.result===f.ParticipateWon&&t.push(n.a.createElement("div",{className:"delear_chips_pot"}," ",this.renderBetChips())),t.push(n.a.createElement("div",{className:this.getPotClassName()}," ",this.renderBetChips(),n.a.createElement("span",{className:"tooltiptext"},"Current Bet: ",this.getTotalPotChips()))),t}},{key:"render",value:function(){return this.state.roundInfo.stage===m.RoundEnded&&setTimeout(this.startBetting,2e3),console.log("this.state.participateCards"),console.log(this.state.participateCards),n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"deck"},n.a.createElement("div",{className:"deck-cards"}),n.a.createElement("div",{className:"deck-cards"})),n.a.createElement("div",{className:"dealer_table"},n.a.createElement(h,{cards:this.state.delearCards,showCards:this.state.roundInfo.stage!=m.RoundEnded,isDealer:!0}),n.a.createElement(h,{cards:this.state.participateCards,showCards:this.state.roundInfo.stage!=m.RoundEnded,isDealer:!1})),this.renderChips(),this.renderPotChips(),this.renderPlayerActionsButtons())}}]),e}(n.a.Component),b=(a(16),function(t){function e(){var t;return Object(o.a)(this,e),(t=Object(l.a)(this,Object(u.a)(e).call(this))).onClickHandler=function(e){t.setState({isGameStarted:!0})},t.state={isGameStarted:!1},t}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return this.state.isGameStarted?n.a.createElement(C,null):n.a.createElement("div",{className:"container blackjack_logo"},n.a.createElement("button",{className:"start-game-button",onClick:this.onClickHandler},"Start Game"))}}]),e}(n.a.Component)),g=document.getElementById("root");i.a.render(n.a.createElement(b,{greet:"Hello world"}),g)},7:function(t,e,a){},9:function(t,e,a){t.exports=a(18)}},[[9,2,1]]]);
//# sourceMappingURL=main.d1f5b69f.chunk.js.map